#! Pharmacy API

openapi: 3.0.0
info:
  title: "MediCare-Rx"
  description: "API for managing orders, and employees"
  version: "1.0.0"

servers:
  - url: "/api"

components:
  schemas:
    Stock:
      type: "object"
      required:
        - med_name
      properties:
        med_id:
          type: "integer"
        med_name:
          type: "string"
        med_quantity:
          type: "integer"
        med_price:
          type: "integer"
        med_description:
          type: "string"
  parameters:
    med_name:
      name: "med_name"
      description: "Medicine name"
      in: path
      required: True
      schema: 
        type: "string"
    med_id:
      name: "med_id"
      description: "Unique identifier for med"
      in: path
      required: True
      schema:
        type: "integer"
paths:
  /stock:
    get:
      operationId: "stock.read_all"
      tags:
        - "Medicine"
      summary: "Read the list of stock available"
      responses:
        "200":
          description: "Succesfully read the available stock"
    post:
      operationId: "stock.add"
      tags:
        - "Medicine"
      summary: "Add stock"
      requestBody:
        description: "Stock to add"
        required: true
        content:
          application/json:
            schema:
              x-body-name: "med"
              $ref: "#/components/schemas/Stock"
      responses:
        "201":
          description: "Successfully added stock"
  /stock/{med_id}:
    get:
      operationId: "stock.read_one"
      tags:
        - Medicine
      summary: "Read one med"
      parameters:
        - $ref: "#/components/parameters/med_id"
      responses:
        "200":
          description: "Successfully read med"
        "404":
          description: "Not found"
    put:
      operationId: "stock.update"
      tags:
        - Medicine
      summary: "Update a medicine"
      parameters:
        - $ref: "#/components/parameters/med_id"
      responses:
        "200":
          description: "Successfully updated medicine"
      requestBody:
        content:
          application/json:
            schema:
              x-body-name: "medicine"
              $ref: "#/components/schemas/Stock"
    delete:
      operationId: "stock.delete"
      tags:
        - "Medicine"
      summary: "Delete stock"
      parameters: 
        - $ref: "#/components/parameters/med_id"
      responses:
          "204":
            description: "Succesfullt removed stock"
